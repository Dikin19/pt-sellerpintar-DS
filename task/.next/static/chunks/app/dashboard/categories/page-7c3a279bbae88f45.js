(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[38],{60:(e,a,s)=>{"use strict";s.d(a,{CategoryList:()=>y});var t=s(5155),r=s(2115),l=s(4526),c=s(7600),i=s(9503),d=s(9797),n=s(2523),o=s(285),h=s(6695),x=s(4616),m=s(7924),u=s(3717),g=s(2525),j=s(6874),v=s.n(j);function y(){let{user:e}=(0,c.As)(),[a,s]=(0,r.useState)(1),[j,y]=(0,r.useState)(""),{categories:p,loading:N,error:f,pagination:w,removeCategory:b}=(0,l.C)({page:a,limit:10,search:j}),k=Math.ceil(w.total/w.limit),A=async(e,a)=>{if(window.confirm('Are you sure you want to delete "'.concat(a,'"?')))try{await b(e)}catch(e){alert(e.message)}},C=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return N&&0===p.length?(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsx)(i.k,{size:"lg"})}):f?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("p",{className:"text-red-600 mb-4",children:f}),(0,t.jsx)(o.$,{onClick:()=>window.location.reload(),children:"Try Again"})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Categories"}),(0,t.jsxs)("p",{className:"text-gray-600",children:["Total Categories: ",w.total]})]}),(null==e?void 0:e.role)==="Admin"&&(0,t.jsx)(v(),{href:"/dashboard/categories/create",children:(0,t.jsxs)(o.$,{children:[(0,t.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Add Category"]})})]}),(0,t.jsxs)("div",{className:"relative max-w-md",children:[(0,t.jsx)(m.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,t.jsx)(n.p,{placeholder:"Search categories...",value:j,onChange:e=>y(e.target.value),className:"pl-10"})]}),0===p.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("p",{className:"text-gray-500 text-lg",children:"No categories found"}),j&&(0,t.jsx)(o.$,{variant:"outline",onClick:()=>y(""),className:"mt-4",children:"Clear search to see all categories"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:p.map(a=>(0,t.jsxs)(h.Zp,{className:"hover:shadow-md transition-shadow",children:[(0,t.jsx)(h.aR,{className:"pb-3",children:(0,t.jsx)(h.ZB,{className:"text-lg",children:a.name})}),(0,t.jsx)(h.Wu,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:["Created: ",C(a.createdAt)]}),(null==e?void 0:e.role)==="Admin"&&(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(v(),{href:"/dashboard/categories/".concat(a.id,"/edit"),children:(0,t.jsx)(o.$,{variant:"outline",size:"sm",children:(0,t.jsx)(u.A,{className:"h-4 w-4"})})}),(0,t.jsx)(o.$,{variant:"outline",size:"sm",onClick:()=>A(a.id,a.name),className:"text-red-600 hover:text-red-700",children:(0,t.jsx)(g.A,{className:"h-4 w-4"})})]})]})})]},a.id))}),k>1&&(0,t.jsx)(d.d,{currentPage:a,totalPages:k,onPageChange:e=>{s(e)},className:"mt-8"})]})]})}},2525:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},3717:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},4616:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},4803:(e,a,s)=>{Promise.resolve().then(s.bind(s,60)),Promise.resolve().then(s.bind(s,7254))},6695:(e,a,s)=>{"use strict";s.d(a,{BT:()=>d,Wu:()=>n,ZB:()=>i,Zp:()=>l,aR:()=>c});var t=s(5155);s(2115);var r=s(9434);function l(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...s})}function c(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...s})}function i(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",a),...s})}function d(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",a),...s})}function n(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",a),...s})}}},e=>{var a=a=>e(e.s=a);e.O(0,[464,503,600,100,441,684,358],()=>a(4803)),_N_E=e.O()}]);