(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{285:(e,r,t)=>{"use strict";t.d(r,{$:()=>l,r:()=>i});var s=t(5155);t(2115);var a=t(9708),n=t(2085),o=t(9434);let i=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:r,variant:t,size:n,asChild:l=!1,...d}=e,c=l?a.DX:"button";return(0,s.jsx)(c,{suppressHydrationWarning:!0,"data-slot":"button",className:(0,o.cn)(i({variant:t,size:n,className:r})),...d})}},343:(e,r,t)=>{"use strict";t.d(r,{Ru:()=>m,WM:()=>p,ZP:()=>g,ni:()=>u});var s=t(1153);let a=s.z.string().min(3,"Username must be at least 3 characters").max(20,"Username must be less than 20 characters").regex(/^[a-zA-Z0-9_]+$/,"Username can only contain letters, numbers, and underscores"),n=s.z.string().min(6,"Password must be at least 6 characters").max(100,"Password must be less than 100 characters"),o=s.z.enum(["Admin","User"],{message:"Please select a valid role"});s.z.string().min(1,"Excerpt is required").min(10,"Excerpt must be at least 10 characters").max(500,"Excerpt must be less than 500 characters"),s.z.string().url("Please enter a valid URL").optional().or(s.z.literal(""));let i=s.z.string().min(1,"Title is required").min(5,"Title must be at least 5 characters").max(200,"Title must be less than 200 characters"),l=s.z.string().min(1,"Content is required").min(50,"Content must be at least 50 characters").max(1e4,"Content must be less than 10,000 characters"),d=s.z.string().min(1,"Category is required"),c=s.z.string().min(1,"Category name is required").min(2,"Category name must be at least 2 characters").max(50,"Category name must be less than 50 characters").regex(/^[a-zA-Z0-9\s-_]+$/,"Category name can only contain letters, numbers, spaces, hyphens, and underscores"),u=s.z.object({username:a,password:n}),m=s.z.object({username:a,password:n,role:o});s.z.object({title:i,content:l,categoryId:d});let g=s.z.object({title:i,content:l,categoryId:d}),p=s.z.object({name:c});s.z.string().max(100,"Search term must be less than 100 characters").optional(),s.z.object({page:s.z.number().min(1).default(1),limit:s.z.number().min(1).max(100).default(10)})},2523:(e,r,t)=>{"use strict";t.d(r,{p:()=>o});var s=t(5155),a=t(2115),n=t(9434);let o=a.forwardRef((e,r)=>{let{className:t,type:a="text",...o}=e;return(0,s.jsx)("input",{suppressHydrationWarning:!0,type:a,"data-slot":"input",className:(0,n.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),ref:r,...o})});o.displayName="Input"},5077:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let s=t(3464).A.create({baseURL:"https://test-fe.mysellerpintar.com/api",headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>{{let r=localStorage.getItem("authToken");r&&(e.headers.Authorization="Bearer ".concat(r))}return e}),s.interceptors.response.use(e=>e,e=>{var r;return(null===(r=e.response)||void 0===r?void 0:r.status)===401&&(localStorage.removeItem("authToken"),localStorage.removeItem("user"),document.cookie="authToken=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT","/login"!==window.location.pathname&&(window.location.href="/login")),Promise.reject(e)});let a=s},6695:(e,r,t)=>{"use strict";t.d(r,{BT:()=>l,Wu:()=>d,ZB:()=>i,Zp:()=>n,aR:()=>o});var s=t(5155);t(2115);var a=t(9434);function n(e){let{className:r,...t}=e;return(0,s.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",r),...t})}function o(e){let{className:r,...t}=e;return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",r),...t})}function i(e){let{className:r,...t}=e;return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",r),...t})}function l(e){let{className:r,...t}=e;return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",r),...t})}function d(e){let{className:r,...t}=e;return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",r),...t})}},7257:(e,r,t)=>{"use strict";t.d(r,{default:()=>h});var s=t(5155),a=t(2177),n=t(8778),o=t(343),i=t(2115),l=t(5077);let d=()=>{let[e,r]=(0,i.useState)(!1),[t,s]=(0,i.useState)(null),[a,n]=(0,i.useState)(null);return{register:async e=>{r(!0),s(null),n(null);try{let r=await l.A.post("/auth/register",e);n(r.data.message||"Registration successful!")}catch(r){var t,a;let e="Registration failed. Please try again.";throw(null===(a=r.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.error)?e=r.response.data.error:r.message&&(e=r.message),s(e),r}finally{r(!1)}},isLoading:e,error:t,success:a,reset:()=>{s(null),n(null),r(!1)}}};var c=t(6695),u=t(285),m=t(6874),g=t.n(m),p=t(2523),x=t(968);function h(){let{register:e,isLoading:r,error:t,success:i}=d(),{register:l,handleSubmit:m,formState:{errors:h,isValid:b}}=(0,a.mN)({resolver:(0,n.u)(o.Ru),mode:"onChange",defaultValues:{username:"",password:"",role:"User"}}),f=async r=>{try{await e({username:r.username,password:r.password,role:r.role})}catch(e){console.error("Registration failed:",e)}};return(0,s.jsxs)(c.Zp,{className:"w-full max-w-md mx-auto",children:[(0,s.jsxs)(c.aR,{className:"text-center",children:[(0,s.jsx)(c.ZB,{className:"text-2xl font-bold",children:"Create Account"}),(0,s.jsx)(c.BT,{children:"Sign up to start managing articles"})]}),(0,s.jsxs)(c.Wu,{children:[(0,s.jsxs)("form",{onSubmit:m(f),className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(x.J,{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),(0,s.jsx)(p.p,{id:"username",type:"text",...l("username"),suppressHydrationWarning:!0,className:"w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(h.username?"border-red-500 focus:ring-red-500":"border-gray-300"),placeholder:"Enter your username"}),h.username&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.username.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x.J,{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,s.jsx)(p.p,{id:"password",type:"password",...l("password"),className:"w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(h.password?"border-red-500 focus:ring-red-500":"border-gray-300"),placeholder:"Enter your password"}),h.password&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.password.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x.J,{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),(0,s.jsxs)("select",{id:"role",...l("role"),suppressHydrationWarning:!0,className:"w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(h.role?"border-red-500 focus:ring-red-500":"border-gray-300"),children:[(0,s.jsx)("option",{value:"User",children:"User"}),(0,s.jsx)("option",{value:"Admin",children:"Admin"})]}),h.role&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.role.message})]}),(0,s.jsx)(u.$,{type:"submit",disabled:r||!b,className:"w-full py-2 px-4 rounded-md font-medium transition-colors ".concat(r||!b?"bg-white-400 cursor-not-allowed text-black-700":"bg-blue-600 hover:bg-blue-700 text-white"),children:r?(0,s.jsxs)("span",{className:"flex items-center justify-center",children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Registering..."]}):"Register"}),i&&(0,s.jsx)("div",{className:"mt-4 p-3 rounded-md bg-green-50 border border-green-200",children:(0,s.jsx)("p",{className:"text-sm text-green-800",children:i})}),t&&(0,s.jsx)("div",{className:"mt-4 p-3 rounded-md bg-red-50 border border-red-200",children:(0,s.jsx)("p",{className:"text-sm text-red-800",children:t})})]}),(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsxs)("p",{className:"text-sm text-black-500",children:["Already have an account?"," ",(0,s.jsx)(g(),{href:"/login",className:"inline-block px-4 py-2 rounded-md font-medium text-blue-600    cursor-pointer transition-colors duration-200    hover:bg-blue-600 hover:text-white",children:"Sign in"})]})})]})]})}},9434:(e,r,t)=>{"use strict";t.d(r,{cn:()=>n});var s=t(2596),a=t(9688);function n(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.QP)((0,s.$)(r))}},9640:(e,r,t)=>{Promise.resolve().then(t.bind(t,7257))}},e=>{var r=r=>e(e.s=r);e.O(0,[464,503,371,441,684,358],()=>r(9640)),_N_E=e.O()}]);