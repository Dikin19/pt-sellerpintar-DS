(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[625],{285:(e,s,t)=>{"use strict";t.d(s,{$:()=>l,r:()=>c});var r=t(5155);t(2115);var a=t(9708),n=t(2085),i=t(9434);let c=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:s,variant:t,size:n,asChild:l=!1,...d}=e,o=l?a.DX:"button";return(0,r.jsx)(o,{suppressHydrationWarning:!0,"data-slot":"button",className:(0,i.cn)(c({variant:t,size:n,className:s})),...d})}},1007:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(9946).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},1152:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>b});var r=t(5155),a=t(9289);t(2115);var n=t(5525),i=t(9946);let c=(0,i.A)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),l=(0,i.A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var d=t(7580),o=t(6695),x=t(6126),m=t(7600);function u(e){let{className:s}=e,{user:t}=(0,m.As)(),{isAdmin:a,isUser:i}=(0,m.JT)();if(!t)return null;let u={admin:["Create new articles","Edit existing articles","Delete articles","Create categories","Edit categories","Delete categories","Access admin dashboard","Manage all content","View all articles and details"],user:["View articles list","Read article details","View categories","Search and filter articles","Navigate between pages"],restricted:a()?[]:["Create new articles","Edit existing articles","Delete articles","Create categories","Edit categories","Delete categories","Access admin dashboard"]};return(0,r.jsxs)("div",{className:"space-y-6 ".concat(s),children:[(0,r.jsxs)(o.Zp,{children:[(0,r.jsx)(o.aR,{children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(n.A,{className:"h-5 w-5 text-blue-600"}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.ZB,{className:"text-lg",children:"Your Access Permissions"}),(0,r.jsxs)(o.BT,{children:["Current role: ",(0,r.jsx)(x.E,{variant:"secondary",children:t.role})]})]})]})}),(0,r.jsx)(o.Wu,{children:(0,r.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,r.jsx)(c,{className:"h-4 w-4 text-green-600"}),(0,r.jsx)("h3",{className:"font-semibold text-green-700",children:"What you can do:"})]}),(0,r.jsx)("ul",{className:"space-y-2",children:(a()?u.admin:u.user).map((e,s)=>(0,r.jsxs)("li",{className:"flex items-center gap-2 text-sm",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full flex-shrink-0"}),(0,r.jsx)("span",{className:"text-green-700",children:e})]},s))})]}),u.restricted.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,r.jsx)(l,{className:"h-4 w-4 text-red-600"}),(0,r.jsx)("h3",{className:"font-semibold text-red-700",children:"Restricted actions:"})]}),(0,r.jsx)("ul",{className:"space-y-2",children:u.restricted.map((e,s)=>(0,r.jsxs)("li",{className:"flex items-center gap-2 text-sm",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full flex-shrink-0"}),(0,r.jsx)("span",{className:"text-red-600",children:e})]},s))}),(0,r.jsx)("div",{className:"mt-4 p-3 bg-red-50 rounded-lg",children:(0,r.jsxs)("p",{className:"text-sm text-red-700",children:[(0,r.jsx)("strong",{children:"Note:"})," These actions require Admin role. Contact your administrator for access."]})})]})]})})]}),(0,r.jsxs)(o.Zp,{children:[(0,r.jsx)(o.aR,{children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(d.A,{className:"h-5 w-5 text-blue-600"}),(0,r.jsx)(o.ZB,{className:"text-lg",children:"Role Information"})]})}),(0,r.jsx)(o.Wu,{children:(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,r.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg",children:[(0,r.jsx)("h4",{className:"font-semibold text-blue-900 mb-2",children:"Admin Role"}),(0,r.jsx)("p",{className:"text-sm text-blue-700 mb-3",children:"Full access to all application features including content management, user management, and system administration."}),(0,r.jsx)("div",{className:"flex items-center gap-2",children:a()?(0,r.jsx)(x.E,{variant:"default",className:"bg-blue-600",children:"Your current role"}):(0,r.jsx)(x.E,{variant:"outline",children:"Not assigned"})})]}),(0,r.jsxs)("div",{className:"p-4 bg-green-50 rounded-lg",children:[(0,r.jsx)("h4",{className:"font-semibold text-green-900 mb-2",children:"User Role"}),(0,r.jsx)("p",{className:"text-sm text-green-700 mb-3",children:"Read-only access to articles and categories. Can browse, search, and view content but cannot modify anything."}),(0,r.jsx)("div",{className:"flex items-center gap-2",children:i()&&!a()?(0,r.jsx)(x.E,{variant:"default",className:"bg-green-600",children:"Your current role"}):(0,r.jsx)(x.E,{variant:"outline",children:"Not assigned"})})]})]})})]})]})}var h=t(285),g=t(7550),v=t(1007),p=t(4835),f=t(6874),j=t.n(f);function b(){let{user:e,logout:s}=(0,m.As)();return(0,r.jsx)(a.K,{allowedRoles:["Admin","User"],children:(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(h.$,{variant:"ghost",size:"sm",asChild:!0,children:(0,r.jsxs)(j(),{href:"/articles",children:[(0,r.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Back to Articles"]})}),(0,r.jsx)("h1",{className:"text-lg font-semibold",children:"Permissions & Access"})]}),(0,r.jsx)("div",{className:"flex items-center gap-4",children:e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,r.jsx)(v.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:e.username}),(0,r.jsx)("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded-full",children:e.role})]}),(0,r.jsxs)(h.$,{variant:"outline",size:"sm",onClick:s,children:[(0,r.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Logout"]})]})})]})})}),(0,r.jsxs)("main",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Access Control Dashboard"}),(0,r.jsx)("p",{className:"text-lg text-gray-600",children:"Understand your permissions and what actions you can perform in the system."})]}),(0,r.jsx)(u,{})]})]})})}},1154:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(9946).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},4835:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(9946).A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},5525:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(9946).A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},5695:(e,s,t)=>{"use strict";var r=t(8999);t.o(r,"useParams")&&t.d(s,{useParams:function(){return r.useParams}}),t.o(r,"usePathname")&&t.d(s,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}})},6126:(e,s,t)=>{"use strict";t.d(s,{E:()=>c});var r=t(5155);t(2115);var a=t(2085),n=t(9434);let i=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:s,variant:t,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)(i({variant:t}),s),...a})}},6695:(e,s,t)=>{"use strict";t.d(s,{BT:()=>l,Wu:()=>d,ZB:()=>c,Zp:()=>n,aR:()=>i});var r=t(5155);t(2115);var a=t(9434);function n(e){let{className:s,...t}=e;return(0,r.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...t})}function i(e){let{className:s,...t}=e;return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...t})}function c(e){let{className:s,...t}=e;return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",s),...t})}function l(e){let{className:s,...t}=e;return(0,r.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",s),...t})}function d(e){let{className:s,...t}=e;return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",s),...t})}},6985:(e,s,t)=>{Promise.resolve().then(t.bind(t,1152))},7550:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(9946).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},7580:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(9946).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},9289:(e,s,t)=>{"use strict";t.d(s,{K:()=>d});var r=t(5155),a=t(2115),n=t(5695),i=t(7600),c=t(1154),l=t(5525);function d(e){let{children:s,allowedRoles:t,fallback:d}=e,{user:o,isLoading:x,isAuthenticated:m}=(0,i.As)(),{hasRole:u}=(0,i.JT)(),h=(0,n.useRouter)();return((0,a.useEffect)(()=>{x||m||h.push("/login")},[x,m,h]),x)?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(c.A,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})}):o&&m?t.some(e=>u(e))?(0,r.jsx)(r.Fragment,{children:s}):d?(0,r.jsx)(r.Fragment,{children:d}):(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(l.A,{className:"h-16 w-16 mx-auto text-red-400 mb-4"}),(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Access Denied"}),(0,r.jsxs)("p",{className:"text-gray-600",children:["You don't have permission to access this page. Required role: ",t.join(" or "),"."]}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["Your current role: ",o.role]})]})}):(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(l.A,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Authentication Required"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Redirecting to login..."})]})})}},9434:(e,s,t)=>{"use strict";t.d(s,{cn:()=>n});var r=t(2596),a=t(9688);function n(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,a.QP)((0,r.$)(s))}},9946:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});var r=t(2115);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return s.filter((e,s,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,r.forwardRef)((e,s)=>{let{color:t="currentColor",size:a=24,strokeWidth:c=2,absoluteStrokeWidth:l,className:d="",children:o,iconNode:x,...m}=e;return(0,r.createElement)("svg",{ref:s,...i,width:a,height:a,stroke:t,strokeWidth:l?24*Number(c)/Number(a):c,className:n("lucide",d),...m},[...x.map(e=>{let[s,t]=e;return(0,r.createElement)(s,t)}),...Array.isArray(o)?o:[o]])}),l=(e,s)=>{let t=(0,r.forwardRef)((t,i)=>{let{className:l,...d}=t;return(0,r.createElement)(c,{ref:i,iconNode:s,className:n("lucide-".concat(a(e)),l),...d})});return t.displayName="".concat(e),t}}},e=>{var s=s=>e(e.s=s);e.O(0,[464,503,600,441,684,358],()=>s(6985)),_N_E=e.O()}]);