exports.id=211,exports.ids=[211],exports.modules={7112:(e,t,r)=>{"use strict";r.d(t,{As:()=>l,AuthProvider:()=>s,JT:()=>c});var o=r(60687),a=r(43210),n=r(62185);let i=(0,a.createContext)(void 0);function s({children:e}){let[t,r]=(0,a.useState)(null),[s,l]=(0,a.useState)(!0),c=()=>{console.log("Logging out user"),localStorage.removeItem("authToken"),localStorage.removeItem("user"),document.cookie="authToken=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",r(null)},d=async()=>{try{let e=await (0,n.HW)();r(e)}catch(e){console.error("Failed to refresh user data:",e),c()}};return(0,o.jsx)(i.Provider,{value:{user:t,isLoading:s,isAuthenticated:!!t,login:(e,t)=>{console.log("Auth context login called with:",{token:!!e,userData:t}),localStorage.setItem("authToken",e),localStorage.setItem("user",JSON.stringify(t)),document.cookie=`authToken=${e}; path=/; max-age=604800; SameSite=Lax`,r(t),console.log("User state updated:",t)},logout:c,refreshUser:d},children:e})}function l(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function c(){let{user:e}=l(),t=t=>e?.role===t;return{hasRole:t,isAdmin:()=>t("Admin"),isUser:()=>t("User"),currentRole:e?.role}}},28527:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let o=r(51060).A.create({baseURL:"https://test-fe.mysellerpintar.com/api",headers:{"Content-Type":"application/json"}});o.interceptors.request.use(e=>e),o.interceptors.response.use(e=>e,e=>(e.response?.status,Promise.reject(e)));let a=o},37351:(e,t,r)=>{Promise.resolve().then(r.bind(r,71858))},44625:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,86346,23)),Promise.resolve().then(r.t.bind(r,27924,23)),Promise.resolve().then(r.t.bind(r,35656,23)),Promise.resolve().then(r.t.bind(r,40099,23)),Promise.resolve().then(r.t.bind(r,38243,23)),Promise.resolve().then(r.t.bind(r,28827,23)),Promise.resolve().then(r.t.bind(r,62763,23)),Promise.resolve().then(r.t.bind(r,97173,23))},54353:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,16444,23)),Promise.resolve().then(r.t.bind(r,16042,23)),Promise.resolve().then(r.t.bind(r,88170,23)),Promise.resolve().then(r.t.bind(r,49477,23)),Promise.resolve().then(r.t.bind(r,29345,23)),Promise.resolve().then(r.t.bind(r,12089,23)),Promise.resolve().then(r.t.bind(r,46577,23)),Promise.resolve().then(r.t.bind(r,31307,23))},62185:(e,t,r)=>{"use strict";r.d(t,{$s:()=>l,BV:()=>s,GE:()=>a,HW:()=>h,K7:()=>g,bW:()=>i,iD:()=>u,st:()=>d,vO:()=>n,zZ:()=>c});var o=r(28527);async function a(e){try{let t=new URLSearchParams;e?.page&&t.append("page",e.page.toString()),e?.limit&&t.append("limit",e.limit.toString()),e?.search&&e.search.trim().length>0&&t.append("search",e.search.trim()),e?.categoryId&&e.categoryId.trim().length>0&&t.append("categoryId",e.categoryId.trim());let r=`/articles${t.toString()?`?${t.toString()}`:""}`;console.log("Making API call to:",r);let a=await o.A.get(r);if(!a.data)throw Error("No data received from API");return a.data}catch(e){throw console.error("getArticles error:",e),e}}async function n(e){return(await o.A.get(`/articles/${e}`)).data}async function i(e){let t=new URLSearchParams;e?.page&&t.append("page",e.page.toString()),e?.limit&&t.append("limit",e.limit.toString()),e?.search&&t.append("search",e.search);try{let r=await o.A.get(`/categories?${t.toString()}`);if(console.log("Raw categories API response:",r.data),Array.isArray(r.data)){console.log("API returned array format, wrapping in pagination");let t=r.data;t.forEach((e,t)=>{console.log(`Raw category ${t}:`,e),console.log(`Raw category ${t} keys:`,Object.keys(e)),e.id||e._id||e.categoryId||console.warn(`Category ${t} is missing ID field!`,e)});let o=t.filter(e=>e&&"object"==typeof e&&0!==Object.keys(e).length?!!e.name||!!e.title||(console.warn("Filtering out category without name:",e),!1):(console.warn("Filtering out empty or invalid category:",e),!1));console.log("Valid categories after filtering:",o);let a=o.map(e=>e.id?e:e._id?{...e,id:e._id}:e.categoryId?{...e,id:e.categoryId}:(console.warn("Category missing all possible ID fields, generating temporary ID:",e),{...e,id:`temp_${Date.now()}_${Math.random()}`}));return{data:a,page:e?.page||1,totalPages:1,total:a.length,pagination:{page:e?.page||1,limit:e?.limit||10,total:a.length,totalPages:Math.ceil(a.length/(e?.limit||10))}}}if(console.log("API returned paginated format"),r.data&&r.data.data&&Array.isArray(r.data.data)){console.log("Normalizing paginated categories data"),console.log("Raw paginated data:",r.data.data);let e=r.data.data.filter(e=>e&&"object"==typeof e&&0!==Object.keys(e).length?!!e.name||!!e.title||(console.warn("Filtering out category without name:",e),!1):(console.warn("Filtering out empty or invalid category:",e),!1));console.log("Valid categories after filtering:",e);let t=e.map(e=>e.id?e:e._id?{...e,id:e._id}:e.categoryId?{...e,id:e.categoryId}:(console.warn("Category missing ID field, generating temporary ID:",e),{...e,id:`temp_${Date.now()}_${Math.random()}`}));return{...r.data,data:t}}return r.data}catch(t){return console.error("getCategories error:",t),{data:[],page:1,totalPages:1,total:0,pagination:{page:1,limit:e?.limit||10,total:0,totalPages:1}}}}let s={deleteArticle:async function(e){await o.A.delete(`/articles/${e}`)},createArticle:async function(e){return(await o.A.post("/articles",e)).data},updateArticle:async function(e,t){let r={title:t.title,content:t.content,categoryId:t.categoryId};return(await o.A.put(`/articles/${e}`,r)).data}};async function l(e){return(await o.A.get(`/categories/${e}`)).data}async function c(e){try{return(await o.A.post("/categories",e)).data}catch(e){if(console.error("createCategory error:",e),e.response?.status===400)throw Error("Invalid category data provided");if(e.response?.status===500)throw Error("Server error occurred while creating category");throw e}}async function d(e,t){try{if(console.log("updateCategory called with:",{id:e,data:t}),!e||""===e.trim())throw Error("Category ID is required and cannot be empty");let r=await o.A.put(`/categories/${e}`,t);return console.log("updateCategory response:",r.data),r.data}catch(t){if(console.error("updateCategory error:",t),console.error("Error response:",t.response),console.error("Error status:",t.response?.status),console.error("Error data:",t.response?.data),t.response?.status===404)throw Error(`Category with ID ${e} not found`);if(t.response?.status===500)throw Error("Server error occurred while updating category");throw t}}async function g(e){try{await o.A.delete(`/categories/${e}`)}catch(t){if(console.error("deleteCategory error:",t),t.response?.status===404)throw Error(`Category with ID ${e} not found`);if(t.response?.status===500)throw Error("Server error occurred while deleting category");throw t}}async function u(e){return(await o.A.post("/auth/login",e)).data}async function h(){throw Error("getCurrentUser can only be called in browser environment")}},67615:(e,t,r)=>{Promise.resolve().then(r.bind(r,7112))},71858:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>a});var o=r(12907);let a=(0,o.registerClientReference)(function(){throw Error("Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\LENOVO\\Documents\\dailyLearning\\Github\\pt-sellerpintar-DS\\task\\src\\contexts\\auth-context.tsx","AuthProvider");(0,o.registerClientReference)(function(){throw Error("Attempted to call useAuth() from the server but useAuth is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\LENOVO\\Documents\\dailyLearning\\Github\\pt-sellerpintar-DS\\task\\src\\contexts\\auth-context.tsx","useAuth"),(0,o.registerClientReference)(function(){throw Error("Attempted to call withAuth() from the server but withAuth is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\LENOVO\\Documents\\dailyLearning\\Github\\pt-sellerpintar-DS\\task\\src\\contexts\\auth-context.tsx","withAuth"),(0,o.registerClientReference)(function(){throw Error("Attempted to call usePermission() from the server but usePermission is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\LENOVO\\Documents\\dailyLearning\\Github\\pt-sellerpintar-DS\\task\\src\\contexts\\auth-context.tsx","usePermission")},78080:()=>{},94431:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,metadata:()=>c});var o=r(37413),a=r(22376),n=r.n(a),i=r(68726),s=r.n(i);r(78080);var l=r(71858);let c={title:"PT. Seller Pintar Digital Asia",description:"PT. Seller Pintar Digital Asia adalah",icons:"/tech.png"};function d({children:e}){return(0,o.jsx)("html",{lang:"en",children:(0,o.jsx)("body",{className:`${n().variable} ${s().variable} antialiased`,children:(0,o.jsx)(l.AuthProvider,{children:e})})})}}};